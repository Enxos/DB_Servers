Startup:

cmd

docker start pg2

docker exec -it pg2 psql -U postgres

doskey psql=docker exec -it pg2 psql -U postgres

now it's just psql to connect to the db.

/l


/q


CREATE DATABASE test;

DROP DATABASE test;

\c -- to connect to the db.


CREATE TABLE table_name (
    Column name + data type + constraints if any
)

CREATE TABLE person (
    id INT,
    first_name VARCHAR (50),
    last_name VARCHAR (50),
    gender VARCHAR (7),
    date of birth TIMESTAMP
);

DROP TABLE person;

CREATE TABLE person (
    id BIGSERIAL NOT NULL PRIMARY KEY,
    first_name VARCHAR(50) NOT NULL,
    last_name VARCHAR(50) NOT NULL,
    gender VARCHAR (6) NOT NULL,
    date_of_birth DATE NOT NULL);

Datatypes:
https://www.postgresql.org/docs/current/datatype.html


\d -- to describe teh db, or specific tables for example.
\d table_name -- to give a list and info of it.

\dt gives a list of only the tables.

add the email column with varchar 150 to the person table.

INSERT INTO person (
    first_name,
    last_name,
    gender,
    date_of_birth)
VALUES ('Anne','Smith','Female',DATE'1988-01-09');

INSERT INTO person (
    first_name,
    last_name,
    gender,
    date_of_birth,
    email)
VALUES ('Jake','Jones','Male',DATE'1990-01-10','jake@gmail.com');

for the email colummn:
ALTER TABLE table_name
ADD COLUMN new_column_name data_type constraint;

ALTER TABLE table_name
ALTER [ COLUMN ] column_name SET ( attribute_option = value [, ... ] )



Solution for the gender problem:

ALTER TABLE person DROP gender;
ALTER TABLE person ADD gender VARCHAR (6) NOT NULL;
ALTER TABLE person DROP date_of_birth;
ALTER TABLE person ADD date_of_birth date NOT NULL;
ALTER TABLE person ADD email varchar (40);

SELECT * FROM person
test-# ;
 id | first_name | last_name | gender | date_of_birth |     email
----+------------+-----------+--------+---------------+----------------
  1 | Anne       | Smith     | Female | 1988-01-09    |
  2 | Jake       | Jones     | Male   | 1990-01-10    | jake@gmail.com
(2 rows)

First try editing data in the table:
UPDATE person WHERE gender=Male SET date_of_birth=1990-12-31;
ERROR:  syntax error at or near "WHERE"
LINE 1: UPDATE person WHERE gender=Male SET date_of_birth=1990-12-31...
                      ^
                      